This folder hosts R code necessary to reproduce the antibody correlates analysis in CoVPN 3008 Ubuntu Study.

The dataset COVID_realdata_ics_bama_nab_bcp20241210_processed_with_riskscore.csv is a small mock dataset modeled 
after the real dataset. 

R packages that are required include: 
 [1] coxphw_4.0.3                
 [2] Hmisc_5.0-1                 
 [3] haven_2.5.1                 
 [4] GGally_2.2.1                
 [5] ggplot2_3.5.1               
 [6] survey_4.1-1                
 [7] Matrix_1.4-1                
 [8] dplyr_1.1.4                 
 [9] wCorr_1.9.8                 
[10] vaccine_1.2.1               
[11] CaseCohortCoxSurvival_0.0.34
[12] survival_3.5-5  

Detailed intructions to run the code and reproduce the results can be found
in each RMD file. 

The running time of each RMD file on a typical computer is less than 10 minutes.

The RMD file coxph_nAb_Fig3_and_Tbl2.md reproduces the following results:
1. 6-month follow-up Cox regression results in Figure 3 of the main article;
2. Analysis of deviance results in Table 2 of the main article;
3. Interaction test results in Supplemental Material Table 3.

The RMD file coxph_nAb_PLWH.md reproduces the following results:
1. 6-month follow-up Cox regression results in Supplemental Figure 12 of the supplement.

The RMD file coxph_nAb_Fig3_3months.md reproduces the following results:
1. 3-month follow-up Cox regression results in Figure 3 of the main article.

The RMD file NAb_ControlledRisk_NP_Fig4_SuppFig13.md reproduces the following results:
1. 6-month follow-up controlled risk curves in Figure 4 of the main article;
2. 6-month follow-up controlled risk curves in Supplemental Figure 13 of the main article.

The RMD file NAb_ControlledRisk_NP_Fig4_3months.md reproduces the following results:
1. 3-month follow-up controlled risk curves in Figure 4 of the main article.
